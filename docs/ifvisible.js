!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(self,(function(){return(()=>{"use strict";var t={518:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dom=e.remove=e.fire=e.attach=void 0;const i={};let s;e.attach=function(t,e){i[t]||(i[t]=[]),i[t].push(e)},e.fire=function(t,e){i[t]&&i[t].forEach((t=>{t(e)}))},e.remove=function(t,e){e||delete i[t],i[t]&&(i[t]=i[t].filter((t=>e!==t)))},e.dom=function(t,e,i){return s||(s=t.addEventListener?(t,e,i)=>t.addEventListener(e,i,!1):"function"==typeof t.attachEvent?(t,e,i)=>t.attachEvent(`on${e}`,i):(t,e,i)=>t[`on${e}`]=i),s(t,e,i)}},112:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});const s=i(312);e.default=class{constructor(t,e,i){this.ifvisible=t,this.seconds=e,this.callback=i,this.stopped=!1,this.start(),this.ifvisible.on("statusChanged",(t=>{!1===this.stopped&&(t.status===s.STATUS_ACTIVE?this.start():this.pause())}))}start(){this.stopped=!1,clearInterval(this.token),this.token=setInterval(this.callback,1e3*this.seconds)}stop(){this.stopped=!0,clearInterval(this.token)}resume(){this.start()}pause(){this.stop()}}},312:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.STATUS_HIDDEN=e.STATUS_IDLE=e.STATUS_ACTIVE=void 0,e.STATUS_ACTIVE="active",e.STATUS_IDLE="idle",e.STATUS_HIDDEN="hidden"},83:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IfVisible=e.IE=void 0;const s=i(518),o=i(312),r=i(112);let n,d;e.IE=function(){let t=3;const e=document.createElement("div"),i=e.getElementsByTagName("i");for(;e.innerHTML=`\x3c!--[if gt IE ${++t}]><i></i><![endif]--\x3e`,i[0];);return t>4?t:void 0}(),e.IfVisible=class{constructor(t,e){if(this.root=t,this.doc=e,this.status=o.STATUS_ACTIVE,this.VERSION="2.0.11",this.timers=[],this.idleTime=3e4,this.isLegacyModeOn=!1,void 0!==this.doc.hidden?(n="hidden",d="visibilitychange"):void 0!==this.doc.mozHidden?(n="mozHidden",d="mozvisibilitychange"):void 0!==this.doc.msHidden?(n="msHidden",d="msvisibilitychange"):void 0!==this.doc.webkitHidden&&(n="webkitHidden",d="webkitvisibilitychange"),void 0===n)this.legacyMode();else{const t=()=>{this.doc[n]?this.blur():this.focus()};t(),s.dom(this.doc,d,t)}this.startIdleTimer(),this.trackIdleStatus()}legacyMode(){if(this.isLegacyModeOn)return;let t="blur";e.IE<9&&(t="focusout"),s.dom(this.root,t,(()=>this.blur())),s.dom(this.root,"focus",(()=>this.focus())),this.isLegacyModeOn=!0}startIdleTimer(t){t instanceof MouseEvent&&0===t.movementX&&0===t.movementY||(this.timers.map(clearTimeout),this.timers.length=0,this.status===o.STATUS_IDLE&&this.wakeup(),this.idleStartedTime=+new Date,this.timers.push(setTimeout((()=>{this.status!==o.STATUS_ACTIVE&&this.status!==o.STATUS_HIDDEN||this.idle()}),this.idleTime)))}trackIdleStatus(){s.dom(this.doc,"mousemove",this.startIdleTimer.bind(this)),s.dom(this.doc,"mousedown",this.startIdleTimer.bind(this)),s.dom(this.doc,"keyup",this.startIdleTimer.bind(this)),s.dom(this.doc,"touchstart",this.startIdleTimer.bind(this)),s.dom(this.root,"scroll",this.startIdleTimer.bind(this)),this.focus(this.startIdleTimer.bind(this))}on(t,e){return s.attach(t,e),this}off(t,e){return s.remove(t,e),this}setIdleDuration(t){return this.idleTime=1e3*t,this.startIdleTimer(),this}getIdleDuration(){return this.idleTime}getIdleInfo(){const t=+new Date;let e;if(this.status===o.STATUS_IDLE)e={isIdle:!0,idleFor:t-this.idleStartedTime,timeLeft:0,timeLeftPer:100};else{const i=this.idleStartedTime+this.idleTime-t;e={isIdle:!1,idleFor:t-this.idleStartedTime,timeLeft:i,timeLeftPer:parseFloat((100-100*i/this.idleTime).toFixed(2))}}return e}idle(t){return t?this.on("idle",t):(this.status=o.STATUS_IDLE,s.fire("idle"),s.fire("statusChanged",{status:this.status})),this}blur(t){return t?this.on("blur",t):(this.status=o.STATUS_HIDDEN,s.fire("blur"),s.fire("statusChanged",{status:this.status})),this}focus(t){return t?this.on("focus",t):this.status!==o.STATUS_ACTIVE&&(this.status=o.STATUS_ACTIVE,s.fire("focus"),s.fire("wakeup"),s.fire("statusChanged",{status:this.status})),this}wakeup(t){return t?this.on("wakeup",t):this.status!==o.STATUS_ACTIVE&&(this.status=o.STATUS_ACTIVE,s.fire("wakeup"),s.fire("statusChanged",{status:this.status})),this}onEvery(t,e){return new r.default(this,t,e)}now(t){return void 0!==t?this.status===t:this.status===o.STATUS_ACTIVE}}},519:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ifvisible=void 0;const s=i(83),o="object"==typeof self&&self.self===self&&self||"object"==typeof i.g&&i.g.global===i.g&&i.g||this;e.ifvisible=new s.IfVisible(o,document)}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,i),r.exports}return i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i(519)})()}));
//# sourceMappingURL=ifvisible.map